# Default values for TaskFlow Helm chart
# This is a YAML-formatted file.

# Global replica count (can be overridden per service)
replicaCount: 2

# Frontend configuration
frontend:
  image:
    repository: taskflow-frontend
    tag: "1.0.0"
    pullPolicy: IfNotPresent

  service:
    type: ClusterIP
    port: 80
    targetPort: 3000

  resources:
    requests:
      memory: "128Mi"
      cpu: "100m"
    limits:
      memory: "256Mi"
      cpu: "250m"

  probes:
    liveness:
      enabled: true
      initialDelaySeconds: 30
      periodSeconds: 10
      failureThreshold: 3
    readiness:
      enabled: true
      initialDelaySeconds: 10
      periodSeconds: 5
      failureThreshold: 3

# Backend configuration
backend:
  image:
    repository: taskflow-backend
    tag: "1.0.0"
    pullPolicy: IfNotPresent

  service:
    type: ClusterIP
    port: 8000
    targetPort: 8000

  resources:
    requests:
      memory: "256Mi"
      cpu: "250m"
    limits:
      memory: "512Mi"
      cpu: "500m"

  probes:
    liveness:
      enabled: true
      initialDelaySeconds: 30
      periodSeconds: 10
      failureThreshold: 3
    readiness:
      enabled: true
      initialDelaySeconds: 10
      periodSeconds: 5
      failureThreshold: 3

# Non-sensitive configuration (injected via ConfigMap)
config:
  frontendUrl: "http://taskflow-frontend"
  backendUrl: "http://taskflow-backend:8000"
  nodeEnv: "production"
  logLevel: "info"

# Secret references (NOT secret values!)
# Secrets must be created manually via kubectl
secrets:
  secretName: "taskflow-secrets"
  keys:
    databaseUrl: "database-url"
    betterAuthSecret: "better-auth-secret"
    openaiApiKey: "openai-api-key"
