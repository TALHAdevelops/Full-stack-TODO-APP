{{/*
Secret Template - PLACEHOLDER ONLY

This template is DISABLED by default. Real secrets should be created manually
using kubectl to avoid committing sensitive data to version control.

Create secrets manually with:
  kubectl create secret generic taskflow-secrets \
    --from-literal=database-url="YOUR_DATABASE_URL" \
    --from-literal=better-auth-secret="YOUR_32_CHAR_SECRET" \
    --from-literal=openai-api-key="YOUR_OPENAI_KEY"

To delete secrets:
  kubectl delete secret taskflow-secrets

NEVER commit real secret values to git!
*/}}

{{- if .Values.secrets.create }}
apiVersion: v1
kind: Secret
metadata:
  name: {{ .Values.secrets.secretName }}
  labels:
    {{- include "taskflow.labels" . | nindent 4 }}
type: Opaque
data:
  # These are PLACEHOLDER values - replace with real base64-encoded secrets
  # echo -n "your-value" | base64
  database-url: {{ .Values.secrets.databaseUrl | default "REPLACE_ME" | b64enc | quote }}
  better-auth-secret: {{ .Values.secrets.betterAuthSecret | default "REPLACE_ME" | b64enc | quote }}
  openai-api-key: {{ .Values.secrets.openaiApiKey | default "REPLACE_ME" | b64enc | quote }}
{{- end }}
